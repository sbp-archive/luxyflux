{"version":3,"sources":["src/actioncreators.js"],"names":[],"mappings":";;;mEAAa,cAAc;;;;;;;;;;AAAd,0BAAc;AAuBZ,yBAvBF,cAAc,CAuBX,UAAU,EAAE,OAAO;0CAvBtB,cAAc;;AAwBnB,wBAAI,UAAU,EAAE;AACZ,4BAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;qBAClC;AACD,wBAAI,OAAO,EAAE;AACT,8BAAM,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;qBAChC;iBACJ;;qCA9BQ,cAAc;AAChB,4BAAQ;+BAAA,kBAAC,KAAK,EAAE,UAAU,EAAE;AAC/B,gCAAI,cAAc,GAAG,IAAI,cAAc,CAAC,UAAU,CAAC,CAAC;AACpD,kCAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE;AAC3B,wDAAwB,EAAE;AACtB,gDAAY,EAAE,KAAK;AACnB,4CAAQ,EAAE,KAAK;AACf,+CAAW,EAAE,KAAK;AAClB,yCAAK,EAAE,cAAc;iCACxB;AACD,0CAAU,EAAE;AACR,uCAAG,EAAE,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC;AACtD,uCAAG,EAAE,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC;iCACzD;AACD,wCAAQ,EAAE;AACN,gDAAY,EAAE,KAAK;AACnB,4CAAQ,EAAE,KAAK;AACf,8CAAU,EAAE,KAAK;AACjB,yCAAK,EAAE,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC;iCACtD;6BACJ,CAAC,CAAC;yBACN;;;;AA6BM,uCAAmB;+BAAA,6BAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE;AACvD,mCAAO,YAAW;;AACd,oCAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,0CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,yCAAe,IAAI,GAAC,CAAC;;AAEtD,uCAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AACpC,0CAAM,CAAC,IAAI,MAAA,CAAX,MAAM,oCAAe,IAAI,GAAC,CAAC,IAAI,CAC3B,UAAC,MAAM,EAAK;AACR,kDAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,iBAAc,MAAM,4BAAK,IAAI,GAAC,CAAC;AAChE,+CAAO,CAAC,MAAM,CAAC,CAAC;qCACnB,EACD,UAAC,KAAK,EAAK;AACP,kDAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,cAAW,KAAK,4BAAK,IAAI,GAAC,CAAC;AAC5D,8CAAM,CAAC,KAAK,CAAC,CAAC;qCACjB,CACJ,CAAC;iCACL,CAAC,CAAC;6BACN,CAAC;yBACL;;;;;AApCD,iCAAa;+BAAA,uBAAC,UAAU,EAAE;AACtB,gCAAI,CAAC,UAAU,GAAG,UAAU,CAAC;yBAChC;;;;AAED,iCAAa;+BAAA,yBAAG;AACZ,mCAAO,IAAI,CAAC,UAAU,CAAC;yBAC1B;;;;AAOD,4BAAQ;;;;;;;+BAAA,kBAAC,UAAU,EAAE;;AACjB,gCAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,mCAAO,eAAA,IAAI,CAAC,UAAU,EAAC,QAAQ,MAAA,eAAC,UAAU,4BAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAC,CAAC;yBACjE;;;;;;uBAhDQ,cAAc;;+BAuEZ,cAAc","file":"src/actioncreators.js","sourcesContent":["export class ActionCreators {\n    static decorate(owner, dispatcher) {\n        var actionCreators = new ActionCreators(dispatcher);\n        Object.defineProperties(owner, {\n            _actionCreatorsDecorator: {\n                configurable: false,\n                writable: false,\n                enumberable: false,\n                value: actionCreators\n            },\n            dispatcher: {\n                get: actionCreators.getDispatcher.bind(actionCreators),\n                set: actionCreators.setDispatcher.bind(actionCreators)\n            },\n            dispatch: {\n                configurable: false,\n                writable: false,\n                enumerable: false,\n                value: actionCreators.dispatch.bind(actionCreators)\n            }\n        });\n    }\n\n    constructor(dispatcher, actions) {\n        if (dispatcher) {\n            this.setDispatcher(dispatcher);\n        }\n        if (actions) {\n            Object.assign(this, actions);\n        }\n    }\n\n    setDispatcher(dispatcher) {\n        this.dispatcher = dispatcher;\n    }\n\n    getDispatcher() {\n        return this.dispatcher;\n    }\n\n    /**\n     * Dispatches an action to the dispatcher defined on this Actions\n     *\n     * @return { Promise } A promise to be resolved when all the callbacks have finised.\n     */\n    dispatch(actionType) {\n        var args = Array.from(arguments);\n        return this.dispatcher.dispatch(actionType, ...args.slice(1));\n    }\n\n    static createServiceAction(dispatcher, actionType, action) {\n        return function() {\n            var args = Array.from(arguments);\n            dispatcher.dispatch(`${actionType}_STARTED`, ...args);\n\n            return new Promise((resolve, reject) => {\n                action.call(this, ...args).then(\n                    (result) => {\n                        dispatcher.dispatch(`${actionType}_COMPLETED`, result, ...args);\n                        resolve(result);\n                    },\n                    (error) => {\n                        dispatcher.dispatch(`${actionType}_FAILED`, error, ...args);\n                        reject(error);\n                    }\n                );\n            });\n        };\n    }\n}\n\nexport default ActionCreators;\n"]}