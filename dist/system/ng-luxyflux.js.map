{"version":3,"sources":["src/ng-luxyflux.js"],"names":[],"mappings":";;;QAAO,OAAO,EAGV,cAAc,EACd,UAAU,EACV,KAAK,EACL,QAAQ,8EAGN,iBAAiB,EAcjB,qBAAqB,EAwBhB,cAAc;;;AA/ClB,mBAAO;;AAGV,0BAAc,aAAd,cAAc;AACd,sBAAU,aAAV,UAAU;AACV,iBAAK,aAAL,KAAK;AACL,oBAAQ,aAAR,QAAQ;;;;;;;;;;;;;AAGN,6BAAiB,cAAS,UAAU;AAC3B,yBADT,iBAAiB,CACP,IAAI,EAAE,SAAS;0CADzB,iBAAiB;;AAEf,+CAFF,iBAAiB,6CAET,IAAI,EAAE;AACZ,wBAAI,CAAC,SAAS,GAAG,SAAS,CAAC;iBAC9B;;0BAJC,iBAAiB,EAAS,UAAU;;qCAApC,iBAAiB;AAMnB,oCAAgB;+BAAA,4BAAG;;;AACf,gCAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,gCAAI,CAAC,SAAS,CAAC,MAAM,CAAC,YAAM;;AACxB,oEATN,iBAAiB,yCASY,IAAI,MAAA,2CAAU,IAAI,GAAC,CAAC;6BAC9C,CAAC,CAAC;yBACN;;;;;;uBAXC,iBAAiB;eAAS,UAAU;AAcpC,iCAAqB,cAAS,cAAc;yBAA5C,qBAAqB;0CAArB,qBAAqB;;wBAAS,cAAc;AAAd,sCAAc;;;;0BAA5C,qBAAqB,EAAS,cAAc;;qCAA5C,qBAAqB;AAChB,uCAAmB;+BAAA,6BAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE;AACvD,mCAAO,YAAW;;AACd,oCAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,0CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,yCAAe,IAAI,GAAC,CAAC;;AAEtD,uCAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AACpC,8CAAU,CAAC,SAAS,CAAC,MAAM,CAAC,YAAM;AAC9B,8CAAM,CAAC,IAAI,MAAA,CAAX,MAAM,qCAAe,IAAI,GAAC,CAAC,IAAI,CAC3B,UAAC,MAAM,EAAK;AACR,sDAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,iBAAc,MAAM,4BAAK,IAAI,GAAC,CAAC;AAChE,mDAAO,CAAC,MAAM,CAAC,CAAC;yCACnB,EACD,UAAC,KAAK,EAAK;AACP,sDAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,cAAW,KAAK,4BAAK,IAAI,GAAC,CAAC;AAC5D,kDAAM,CAAC,KAAK,CAAC,CAAC;yCACjB,CACJ,CAAC;qCACL,CAAC,CAAC;iCACN,CAAC,CAAC;6BACN,CAAC;yBACL;;;;;;uBArBC,qBAAqB;eAAS,cAAc;AAwBvC,0BAAc,6BAAG,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC,CACrD,OAAO,CAAC,wBAAwB,EAAE,YAAY;AAC3C,uBAAO,qBAAqB,CAAC;aAChC,CAAC,CACD,OAAO,CAAC,oBAAoB,EAAE,YAAW;AACtC,uBAAO,iBAAiB,CAAC;aAC5B,CAAC,CACD,OAAO,CAAC,eAAe,EAAE,YAAW;AACjC,uBAAO,KAAK,CAAC;aAChB,CAAC,CACD,OAAO,CAAC,UAAU,EAAE,YAAW;AAC5B,uBAAO,QAAQ,CAAC;aACnB,CAAC;+BAES,cAAc","file":"src/ng-luxyflux.js","sourcesContent":["import angular from 'angular';\n\nimport {\n    ActionCreators,\n    Dispatcher,\n    Store,\n    LuxyFlux\n} from './luxyflux';\n\nclass AngularDispatcher extends Dispatcher {\n    constructor(name, rootScope) {\n        super(name);\n        this.rootScope = rootScope;\n    }\n\n    _executeCallback() {\n        var args = Array.from(arguments);\n        this.rootScope.$apply(() => {\n            super._executeCallback.call(this, ...args);\n        });\n    }\n}\n\nclass AngularActionCreators extends ActionCreators {\n    static createServiceAction(dispatcher, actionType, action) {\n        return function() {\n            var args = Array.from(arguments);\n            dispatcher.dispatch(`${actionType}_STARTED`, ...args);\n\n            return new Promise((resolve, reject) => {\n                dispatcher.rootScope.$apply(() => {\n                    action.call(this, ...args).then(\n                        (result) => {\n                            dispatcher.dispatch(`${actionType}_COMPLETED`, result, ...args);\n                            resolve(result);\n                        },\n                        (error) => {\n                            dispatcher.dispatch(`${actionType}_FAILED`, error, ...args);\n                            reject(error);\n                        }\n                    );\n                });\n            });\n        };\n    }\n}\n\nexport var luxyfluxModule = angular.module('luxyflux', [])\n    .service('LuxyFluxActionCreators', function () {\n        return AngularActionCreators;\n    })\n    .service('LuxyFluxDispatcher', function() {\n        return AngularDispatcher;\n    })\n    .service('LuxyFluxStore', function() {\n        return Store;\n    })\n    .service('LuxyFlux', function() {\n        return LuxyFlux;\n    });\n\nexport default luxyfluxModule;\n"]}