{"version":3,"sources":["../../src/ng-luxyflux.js"],"names":[],"mappings":";;;8DAUW,cAAc;;;;;;;;;;;;;;;;;;uCAPrB,cAAc;mCACd,UAAU;8BACV,KAAK;iCACL,QAAQ;;;AAID,0BAAc,GAAG,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC;;;;AAE1D,0BAAc,CAAC,OAAO,CAAC,wBAAwB,EAAE,CAC7C,IAAI,EACJ,UAAS,EAAE,EAAE;AACT;8BAAa,qBAAqB;;6BAArB,qBAAqB;8CAArB,qBAAqB;;mDAArB,qBAAqB;;;iCAArB,qBAAqB;;+BACJ,6BAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE;AACvD,mCAAO,YAAW;;;AACd,oCAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,0CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,GAAa,UAAU,yCAAe,IAAI,GAAC,CAAC;AACtD,uCAAO,EAAE,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AAC3B,0CAAM,CAAC,IAAI,MAAA,CAAX,MAAM,oCAAe,IAAI,GAAC,CAAC,IAAI,CAC3B,UAAC,MAAM,EAAK;AACR,4CAAI,MAAM,KAAK,SAAS,EAAE;AACtB,gDAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;yCACxB;AACD,kDAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,GAAa,UAAU,2CAAiB,IAAI,GAAC,CAAC,IAAI,CAAC,YAAM;AAC/D,mDAAO,CAAC,MAAM,CAAC,CAAC;yCACnB,CAAC,CAAC;qCAEN,EAAE,UAAC,KAAK,EAAK;AACV,4CAAI,KAAK,KAAK,SAAS,EAAE;AACrB,gDAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;yCACvB;AACD,kDAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,GAAa,UAAU,wCAAc,IAAI,GAAC,CAAC,IAAI,CAAC,YAAM;AAC5D,kDAAM,CAAC,KAAK,CAAC,CAAC;yCACjB,CAAC,CAAC;qCACN,CACJ,CAAC;iCACL,CAAC,CAAC;6BACN,CAAC;yBACL;;;2BA1BQ,qBAAqB;mBAAS,cAAc,EA2BvD;aACL,CACJ,CAAC,CAAC;;AAEH,0BAAc,CAAC,OAAO,CAAC,oBAAoB,EAAE,CACzC,YAAY,EACZ,UAAS,UAAU,EAAE;AACjB;8BAAa,iBAAiB;;6BAAjB,iBAAiB;8CAAjB,iBAAiB;;mDAAjB,iBAAiB;;;iCAAjB,iBAAiB;;+BACV,4BAAG;;;AACf,gCAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,sCAAU,CAAC,MAAM,CAAC,YAAM;;;AACpB,oEAJC,iBAAiB,0CAIK,IAAI,MAAA,2CAAU,IAAI,GAAC,CAAC;6BAC9C,CAAC,CAAC;yBACN;;;2BANQ,iBAAiB;mBAAS,UAAU,EAO/C;aACL,CACJ,CAAC,CAAC;;AAEH,0BAAc,CAAC,OAAO,CAAC,eAAe,EAAE,YAAW;AAC/C;8BAAa,YAAY;;6BAAZ,YAAY;8CAAZ,YAAY;;mDAAZ,YAAY;;;2BAAZ,YAAY;mBAAS,KAAK,EAAI;aAC9C,CAAC,CAAC;;AAEH,0BAAc,CAAC,OAAO,CAAC,UAAU,EAAE,YAAW;AAC1C;8BAAa,eAAe;;6BAAf,eAAe;8CAAf,eAAe;;mDAAf,eAAe;;;2BAAf,eAAe;mBAAS,QAAQ,EAAI;aACpD,CAAC,CAAC;;+BAEY,cAAc","file":"ng-luxyflux.js","sourcesContent":["import angular from 'angular';\n\nimport {\n    ActionCreators,\n    Dispatcher,\n    Store,\n    LuxyFlux\n}\nfrom './luxyflux';\n\nexport var luxyfluxModule = angular.module('luxyflux', []);\n\nluxyfluxModule.service('LuxyFluxActionCreators', [\n    '$q',\n    function($q) {\n        return class AngularActionCreators extends ActionCreators {\n            static createServiceAction(dispatcher, actionType, action) {\n                return function() {\n                    var args = Array.from(arguments);\n                    dispatcher.dispatch(`${actionType}_STARTED`, ...args);\n                    return $q((resolve, reject) => {\n                        action.call(this, ...args).then(\n                            (result) => {\n                                if (result !== undefined) {\n                                    args.unshift(result);\n                                }\n                                dispatcher.dispatch(`${actionType}_COMPLETED`, ...args).then(() => {\n                                    resolve(result);\n                                });\n\n                            }, (error) => {\n                                if (error !== undefined) {\n                                    args.unshift(error);\n                                }\n                                dispatcher.dispatch(`${actionType}_FAILED`, ...args).then(() => {\n                                    reject(error);\n                                });\n                            }\n                        );\n                    });\n                };\n            }\n        };\n    }\n]);\n\nluxyfluxModule.service('LuxyFluxDispatcher', [\n    '$rootScope',\n    function($rootScope) {\n        return class AngularDispatcher extends Dispatcher {\n            _executeCallback() {\n                var args = Array.from(arguments);\n                $rootScope.$apply(() => {\n                    super._executeCallback.call(this, ...args);\n                });\n            }\n        };\n    }\n]);\n\nluxyfluxModule.service('LuxyFluxStore', function() {\n    return class AngularStore extends Store {};\n});\n\nluxyfluxModule.service('LuxyFlux', function() {\n    return class AngularLuxyFlux extends LuxyFlux {};\n});\n\nexport default luxyfluxModule;\n"]}