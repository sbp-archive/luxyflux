{"version":3,"sources":["src/ng-luxyflux.js"],"names":[],"mappings":";;;;;;;;;;;;;;;QAAO,OAAO;;QAGV,cAAc,aAAd,cAAc;QACd,UAAU,aAAV,UAAU;QACV,KAAK,aAAL,KAAK;QACL,QAAQ,aAAR,QAAQ;QAGN,iBAAiB,cAAS,UAAU;AAC3B,iBADT,iBAAiB,CACP,IAAI,EAAE,SAAS;kCADzB,iBAAiB;;AAEf,uCAFF,iBAAiB,6CAET,IAAI,EAAE;AACZ,gBAAI,CAAC,SAAS,GAAG,SAAS,CAAC;SAC9B;;kBAJC,iBAAiB,EAAS,UAAU;;6BAApC,iBAAiB;AAMnB,4BAAgB;uBAAA,4BAAG;;;AACf,wBAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,wBAAI,CAAC,SAAS,CAAC,MAAM,CAAC,YAAM;;AACxB,4DATN,iBAAiB,yCASY,IAAI,MAAA,2CAAU,IAAI,GAAC,CAAC;qBAC9C,CAAC,CAAC;iBACN;;;;;;eAXC,iBAAiB;OAAS,UAAU;;QAcpC,qBAAqB,cAAS,cAAc;iBAA5C,qBAAqB;kCAArB,qBAAqB;;gBAAS,cAAc;AAAd,8BAAc;;;;kBAA5C,qBAAqB,EAAS,cAAc;;6BAA5C,qBAAqB;AAChB,+BAAmB;uBAAA,6BAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE;AACvD,2BAAO,YAAW;;AACd,4BAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,kCAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,yCAAe,IAAI,GAAC,CAAC;;AAEtD,+BAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AACpC,sCAAU,CAAC,SAAS,CAAC,MAAM,CAAC,YAAM;AAC9B,sCAAM,CAAC,IAAI,MAAA,CAAX,MAAM,qCAAe,IAAI,GAAC,CAAC,IAAI,CAC3B,UAAC,MAAM,EAAK;AACR,8CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,iBAAc,MAAM,4BAAK,IAAI,GAAC,CAAC;AAChE,2CAAO,CAAC,MAAM,CAAC,CAAC;iCACnB,EACD,UAAC,KAAK,EAAK;AACP,8CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,cAAW,KAAK,4BAAK,IAAI,GAAC,CAAC;AAC5D,0CAAM,CAAC,KAAK,CAAC,CAAC;iCACjB,CACJ,CAAC;6BACL,CAAC,CAAC;yBACN,CAAC,CAAC;qBACN,CAAC;iBACL;;;;;;eArBC,qBAAqB;OAAS,cAAc;;AAwB3C,QAAI,cAAc,WAAd,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC,CACrD,OAAO,CAAC,wBAAwB,EAAE,YAAY;AAC3C,eAAO,qBAAqB,CAAC;KAChC,CAAC,CACD,OAAO,CAAC,oBAAoB,EAAE,YAAW;AACtC,eAAO,iBAAiB,CAAC;KAC5B,CAAC,CACD,OAAO,CAAC,eAAe,EAAE,YAAW;AACjC,eAAO,KAAK,CAAC;KAChB,CAAC,CACD,OAAO,CAAC,UAAU,EAAE,YAAW;AAC5B,eAAO,QAAQ,CAAC;KACnB,CAAC,CAAC;;yBAEQ,cAAc","file":"src/ng-luxyflux.js","sourcesContent":["import angular from 'angular';\n\nimport {\n    ActionCreators,\n    Dispatcher,\n    Store,\n    LuxyFlux\n} from './luxyflux';\n\nclass AngularDispatcher extends Dispatcher {\n    constructor(name, rootScope) {\n        super(name);\n        this.rootScope = rootScope;\n    }\n\n    _executeCallback() {\n        var args = Array.from(arguments);\n        this.rootScope.$apply(() => {\n            super._executeCallback.call(this, ...args);\n        });\n    }\n}\n\nclass AngularActionCreators extends ActionCreators {\n    static createServiceAction(dispatcher, actionType, action) {\n        return function() {\n            var args = Array.from(arguments);\n            dispatcher.dispatch(`${actionType}_STARTED`, ...args);\n\n            return new Promise((resolve, reject) => {\n                dispatcher.rootScope.$apply(() => {\n                    action.call(this, ...args).then(\n                        (result) => {\n                            dispatcher.dispatch(`${actionType}_COMPLETED`, result, ...args);\n                            resolve(result);\n                        },\n                        (error) => {\n                            dispatcher.dispatch(`${actionType}_FAILED`, error, ...args);\n                            reject(error);\n                        }\n                    );\n                });\n            });\n        };\n    }\n}\n\nexport var luxyfluxModule = angular.module('luxyflux', [])\n    .service('LuxyFluxActionCreators', function () {\n        return AngularActionCreators;\n    })\n    .service('LuxyFluxDispatcher', function() {\n        return AngularDispatcher;\n    })\n    .service('LuxyFluxStore', function() {\n        return Store;\n    })\n    .service('LuxyFlux', function() {\n        return LuxyFlux;\n    });\n\nexport default luxyfluxModule;\n"]}