{"version":3,"sources":["../../src/ng-luxyflux.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAUO,QAAI,cAAc,GAAG,qBAAQ,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;;;AAE3D,kBAAc,CAAC,OAAO,CAAC,wBAAwB,EAAE,CAC7C,IAAI,EACJ,UAAS,EAAE,EAAE;AACT;sBAAa,qBAAqB;;qBAArB,qBAAqB;sCAArB,qBAAqB;;2CAArB,qBAAqB;;;yBAArB,qBAAqB;;uBACJ,6BAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE;AACvD,2BAAO,YAAW;;;AACd,4BAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,kCAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,GAAa,UAAU,yCAAe,IAAI,GAAC,CAAC;AACtD,+BAAO,EAAE,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AAC3B,kCAAM,CAAC,IAAI,MAAA,CAAX,MAAM,oCAAe,IAAI,GAAC,CAAC,IAAI,CAC3B,UAAC,MAAM,EAAK;AACR,oCAAI,MAAM,KAAK,SAAS,EAAE;AACtB,wCAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;iCACxB;AACD,0CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,GAAa,UAAU,2CAAiB,IAAI,GAAC,CAAC,IAAI,CAAC,YAAM;AAC/D,2CAAO,CAAC,MAAM,CAAC,CAAC;iCACnB,CAAC,CAAC;6BAEN,EAAE,UAAC,KAAK,EAAK;AACV,oCAAI,KAAK,KAAK,SAAS,EAAE;AACrB,wCAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;iCACvB;AACD,0CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,GAAa,UAAU,wCAAc,IAAI,GAAC,CAAC,IAAI,CAAC,YAAM;AAC5D,0CAAM,CAAC,KAAK,CAAC,CAAC;iCACjB,CAAC,CAAC;6BACN,CACJ,CAAC;yBACL,CAAC,CAAC;qBACN,CAAC;iBACL;;;mBA1BQ,qBAAqB;qBAZtC,cAAc,EAuCR;KACL,CACJ,CAAC,CAAC;;AAEH,kBAAc,CAAC,OAAO,CAAC,oBAAoB,EAAE,CACzC,YAAY,EACZ,UAAS,UAAU,EAAE;AACjB;sBAAa,iBAAiB;;qBAAjB,iBAAiB;sCAAjB,iBAAiB;;2CAAjB,iBAAiB;;;yBAAjB,iBAAiB;;uBACV,4BAAG;;;AACf,wBAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,8BAAU,CAAC,MAAM,CAAC,YAAM;;;AACpB,4DAJC,iBAAiB,0CAIK,IAAI,MAAA,2CAAU,IAAI,GAAC,CAAC;qBAC9C,CAAC,CAAC;iBACN;;;mBANQ,iBAAiB;qBA7ClC,UAAU,EAoDJ;KACL,CACJ,CAAC,CAAC;;AAEH,kBAAc,CAAC,OAAO,CAAC,eAAe,EAAE,YAAW;AAC/C;sBAAa,YAAY;;qBAAZ,YAAY;sCAAZ,YAAY;;2CAAZ,YAAY;;;mBAAZ,YAAY;qBAxDzB,KAAK,EAwDsC;KAC9C,CAAC,CAAC;;AAEH,kBAAc,CAAC,OAAO,CAAC,UAAU,EAAE,YAAW;AAC1C;sBAAa,eAAe;;qBAAf,eAAe;sCAAf,eAAe;;2CAAf,eAAe;;;mBAAf,eAAe;qBA3D5B,QAAQ,EA2DyC;KACpD,CAAC,CAAC;;yBAEY,cAAc","file":"ng-luxyflux.js","sourcesContent":["import angular from 'angular';\n\nimport {\n    ActionCreators,\n    Dispatcher,\n    Store,\n    LuxyFlux\n}\nfrom './luxyflux';\n\nexport var luxyfluxModule = angular.module('luxyflux', []);\n\nluxyfluxModule.service('LuxyFluxActionCreators', [\n    '$q',\n    function($q) {\n        return class AngularActionCreators extends ActionCreators {\n            static createServiceAction(dispatcher, actionType, action) {\n                return function() {\n                    var args = Array.from(arguments);\n                    dispatcher.dispatch(`${actionType}_STARTED`, ...args);\n                    return $q((resolve, reject) => {\n                        action.call(this, ...args).then(\n                            (result) => {\n                                if (result !== undefined) {\n                                    args.unshift(result);\n                                }\n                                dispatcher.dispatch(`${actionType}_COMPLETED`, ...args).then(() => {\n                                    resolve(result);\n                                });\n\n                            }, (error) => {\n                                if (error !== undefined) {\n                                    args.unshift(error);\n                                }\n                                dispatcher.dispatch(`${actionType}_FAILED`, ...args).then(() => {\n                                    reject(error);\n                                });\n                            }\n                        );\n                    });\n                };\n            }\n        };\n    }\n]);\n\nluxyfluxModule.service('LuxyFluxDispatcher', [\n    '$rootScope',\n    function($rootScope) {\n        return class AngularDispatcher extends Dispatcher {\n            _executeCallback() {\n                var args = Array.from(arguments);\n                $rootScope.$apply(() => {\n                    super._executeCallback.call(this, ...args);\n                });\n            }\n        };\n    }\n]);\n\nluxyfluxModule.service('LuxyFluxStore', function() {\n    return class AngularStore extends Store {};\n});\n\nluxyfluxModule.service('LuxyFlux', function() {\n    return class AngularLuxyFlux extends LuxyFlux {};\n});\n\nexport default luxyfluxModule;\n"]}