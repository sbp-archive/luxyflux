{"version":3,"sources":["src/actioncreators.js"],"names":[],"mappings":";;;;;;;;;QAAa,cAAc,WAAd,cAAc;AAuBZ,iBAvBF,cAAc,CAuBX,UAAU,EAAE,OAAO;kCAvBtB,cAAc;;AAwBnB,gBAAI,UAAU,EAAE;AACZ,oBAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;aAClC;AACD,gBAAI,OAAO,EAAE;AACT,sBAAM,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;aAChC;SACJ;;6BA9BQ,cAAc;AAChB,oBAAQ;uBAAA,kBAAC,KAAK,EAAE,UAAU,EAAE;AAC/B,wBAAI,cAAc,GAAG,IAAI,cAAc,CAAC,UAAU,CAAC,CAAC;AACpD,0BAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE;AAC3B,gDAAwB,EAAE;AACtB,wCAAY,EAAE,KAAK;AACnB,oCAAQ,EAAE,KAAK;AACf,uCAAW,EAAE,KAAK;AAClB,iCAAK,EAAE,cAAc;yBACxB;AACD,kCAAU,EAAE;AACR,+BAAG,EAAE,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC;AACtD,+BAAG,EAAE,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC;yBACzD;AACD,gCAAQ,EAAE;AACN,wCAAY,EAAE,KAAK;AACnB,oCAAQ,EAAE,KAAK;AACf,sCAAU,EAAE,KAAK;AACjB,iCAAK,EAAE,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC;yBACtD;qBACJ,CAAC,CAAC;iBACN;;;;AA6BM,+BAAmB;uBAAA,6BAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE;AACvD,2BAAO,YAAW;;AACd,4BAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,kCAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,yCAAe,IAAI,GAAC,CAAC;;AAEtD,+BAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AACpC,kCAAM,CAAC,IAAI,MAAA,CAAX,MAAM,oCAAe,IAAI,GAAC,CAAC,IAAI,CAC3B,UAAC,MAAM,EAAK;AACR,oCAAI,MAAM,EAAE;AACR,wCAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;iCACxB;AACD,0CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,2CAAiB,IAAI,GAAC,CAAC;AACxD,uCAAO,CAAC,MAAM,CAAC,CAAC;6BACnB,EACD,UAAC,KAAK,EAAK;AACP,oCAAI,KAAK,EAAE;AACP,wCAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;iCACvB;AACD,0CAAU,CAAC,QAAQ,MAAA,CAAnB,UAAU,QAAa,UAAU,wCAAc,IAAI,GAAC,CAAC;AACrD,sCAAM,CAAC,KAAK,CAAC,CAAC;6BACjB,CACJ,CAAC;yBACL,CAAC,CAAC;qBACN,CAAC;iBACL;;;;;AA1CD,yBAAa;uBAAA,uBAAC,UAAU,EAAE;AACtB,wBAAI,CAAC,UAAU,GAAG,UAAU,CAAC;iBAChC;;;;AAED,yBAAa;uBAAA,yBAAG;AACZ,2BAAO,IAAI,CAAC,UAAU,CAAC;iBAC1B;;;;AAOD,oBAAQ;;;;;;;uBAAA,kBAAC,UAAU,EAAE;;AACjB,wBAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,2BAAO,eAAA,IAAI,CAAC,UAAU,EAAC,QAAQ,MAAA,eAAC,UAAU,4BAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAC,CAAC;iBACjE;;;;;;eAhDQ,cAAc;;yBA6EZ,cAAc","file":"src/actioncreators.js","sourcesContent":["export class ActionCreators {\n    static decorate(owner, dispatcher) {\n        var actionCreators = new ActionCreators(dispatcher);\n        Object.defineProperties(owner, {\n            _actionCreatorsDecorator: {\n                configurable: false,\n                writable: false,\n                enumberable: false,\n                value: actionCreators\n            },\n            dispatcher: {\n                get: actionCreators.getDispatcher.bind(actionCreators),\n                set: actionCreators.setDispatcher.bind(actionCreators)\n            },\n            dispatch: {\n                configurable: false,\n                writable: false,\n                enumerable: false,\n                value: actionCreators.dispatch.bind(actionCreators)\n            }\n        });\n    }\n\n    constructor(dispatcher, actions) {\n        if (dispatcher) {\n            this.setDispatcher(dispatcher);\n        }\n        if (actions) {\n            Object.assign(this, actions);\n        }\n    }\n\n    setDispatcher(dispatcher) {\n        this.dispatcher = dispatcher;\n    }\n\n    getDispatcher() {\n        return this.dispatcher;\n    }\n\n    /**\n     * Dispatches an action to the dispatcher defined on this Actions\n     *\n     * @return { Promise } A promise to be resolved when all the callbacks have finised.\n     */\n    dispatch(actionType) {\n        var args = Array.from(arguments);\n        return this.dispatcher.dispatch(actionType, ...args.slice(1));\n    }\n\n    static createServiceAction(dispatcher, actionType, action) {\n        return function() {\n            var args = Array.from(arguments);\n            dispatcher.dispatch(`${actionType}_STARTED`, ...args);\n\n            return new Promise((resolve, reject) => {\n                action.call(this, ...args).then(\n                    (result) => {\n                        if (result) {\n                            args.unshift(result);\n                        }\n                        dispatcher.dispatch(`${actionType}_COMPLETED`, ...args);\n                        resolve(result);\n                    },\n                    (error) => {\n                        if (error) {\n                            args.unshift(error);\n                        }\n                        dispatcher.dispatch(`${actionType}_FAILED`, ...args);\n                        reject(error);\n                    }\n                );\n            });\n        };\n    }\n}\n\nexport default ActionCreators;\n"]}